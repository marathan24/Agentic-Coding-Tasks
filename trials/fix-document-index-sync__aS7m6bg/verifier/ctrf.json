{
    "results": {
        "tool": {
            "name": "pytest",
            "version": "8.4.1"
        },
        "summary": {
            "tests": 9,
            "passed": 7,
            "failed": 2,
            "skipped": 0,
            "pending": 0,
            "other": 0,
            "start": 1764019306.0592003,
            "stop": 1764019307.1468906
        },
        "tests": [
            {
                "name": "test_sync.py::test_health_endpoint",
                "status": "passed",
                "duration": 0.012931082999955379,
                "start": 1764019306.151139,
                "stop": 1764019306.1642697,
                "retries": 0,
                "file_path": "test_sync.py"
            },
            {
                "name": "test_sync.py::test_scenario_1_index_document_first",
                "status": "passed",
                "duration": 0.12299104099997749,
                "start": 1764019306.164425,
                "stop": 1764019306.2877004,
                "retries": 0,
                "file_path": "test_sync.py"
            },
            {
                "name": "test_sync.py::test_scenario_2_children_first",
                "status": "failed",
                "raw_status": "call_failed",
                "duration": 0.1306011260000446,
                "start": 1764019306.2879708,
                "stop": 1764019306.449627,
                "retries": 0,
                "file_path": "test_sync.py",
                "trace": "client = <httpx.Client object at 0xffff828d8ce0>\n\n    def test_scenario_2_children_first(client):\n        batch1 = {\n            \"documents\": [\n                {\n                    \"documentId\": \"ADD-002\",\n                    \"documentTag\": \"Addendum\",\n                    \"collectionName\": \"Test-Collection-2\"\n                },\n                {\n                    \"documentId\": \"MAIN-002\",\n                    \"documentTag\": \"MainDocument\",\n                    \"collectionName\": \"Test-Collection-2\"\n                },\n                {\n                    \"documentId\": \"ERR-002\",\n                    \"documentTag\": \"Errata\",\n                    \"collectionName\": \"Test-Collection-2\"\n                }\n            ]\n        }\n    \n        response = client.post(\"/batch\", json=batch1)\n        assert response.status_code == 200\n        result = response.json()\n        assert result[\"processed\"] == 3\n        assert result[\"failed\"] == 0\n    \n        for doc_id in [\"ADD-002\", \"MAIN-002\", \"ERR-002\"]:\n            doc = client.get(f\"/documents/{doc_id}\").json()\n            assert doc[\"jsonId\"] is not None\n            assert doc[\"jsonId\"].startswith(\"JSON-\")\n    \n        batch2 = {\n            \"documents\": [\n                {\n                    \"documentId\": \"IDX-002\",\n                    \"documentTag\": \"IndexDocument\",\n                    \"collectionName\": \"Test-Collection-2\",\n                    \"childDocumentIds\": [\n                        {\"documentId\": \"ADD-002\"},\n                        {\"documentId\": \"MAIN-002\"},\n                        {\"documentId\": \"ERR-002\"}\n                    ]\n                }\n            ]\n        }\n    \n        response = client.post(\"/batch\", json=batch2)\n        assert response.status_code == 200\n        result = response.json()\n        assert result[\"processed\"] == 1\n        assert result[\"failed\"] == 0\n    \n        children_info = client.get(\"/index/IDX-002/children\").json()\n        child_refs = children_info[\"childReferences\"]\n    \n        assert len(child_refs) == 3\n        for ref in child_refs:\n>           assert ref.get(\"jsonId\") is not None, f\"Child {ref['documentId']} should have jsonId from PULL\"\nE           AssertionError: Child ADD-002 should have jsonId from PULL\nE           assert None is not None\nE            +  where None = <built-in method get of dict object at 0xffff82801740>('jsonId')\nE            +    where <built-in method get of dict object at 0xffff82801740> = {'documentId': 'ADD-002'}.get\n\n/tests/test_sync.py:153: AssertionError",
                "message": "The test failed in the call phase due to an assertion error"
            },
            {
                "name": "test_sync.py::test_scenario_3_mixed_batch",
                "status": "passed",
                "duration": 0.07056849999997894,
                "start": 1764019306.4498303,
                "stop": 1764019306.5206265,
                "retries": 0,
                "file_path": "test_sync.py"
            },
            {
                "name": "test_sync.py::test_scenario_4_late_arrival",
                "status": "passed",
                "duration": 0.22996383199995307,
                "start": 1764019306.520855,
                "stop": 1764019306.751357,
                "retries": 0,
                "file_path": "test_sync.py"
            },
            {
                "name": "test_sync.py::test_scenario_5_index_reprocessing",
                "status": "failed",
                "raw_status": "call_failed",
                "duration": 0.14439737500003957,
                "start": 1764019306.7518315,
                "stop": 1764019306.908635,
                "retries": 0,
                "file_path": "test_sync.py",
                "trace": "client = <httpx.Client object at 0xffff82ab5f10>\n\n    def test_scenario_5_index_reprocessing(client):\n        batch1 = {\n            \"documents\": [\n                {\n                    \"documentId\": \"ADD-005\",\n                    \"documentTag\": \"Addendum\",\n                    \"collectionName\": \"Test-Collection-5\"\n                },\n                {\n                    \"documentId\": \"MAIN-005\",\n                    \"documentTag\": \"MainDocument\",\n                    \"collectionName\": \"Test-Collection-5\"\n                }\n            ]\n        }\n    \n        response = client.post(\"/batch\", json=batch1)\n        assert response.status_code == 200\n    \n        batch2 = {\n            \"documents\": [\n                {\n                    \"documentId\": \"IDX-005\",\n                    \"documentTag\": \"IndexDocument\",\n                    \"collectionName\": \"Test-Collection-5\",\n                    \"childDocumentIds\": [\n                        {\"documentId\": \"ADD-005\"},\n                        {\"documentId\": \"MAIN-005\"}\n                    ]\n                }\n            ]\n        }\n    \n        response = client.post(\"/batch\", json=batch2)\n        assert response.status_code == 200\n    \n        children_info = client.get(\"/index/IDX-005/children\").json()\n        initial_refs = children_info[\"childReferences\"]\n        assert len(initial_refs) == 2\n        for ref in initial_refs:\n>           assert ref.get(\"jsonId\") is not None\nE           AssertionError: assert None is not None\nE            +  where None = <built-in method get of dict object at 0xffff82b10b40>('jsonId')\nE            +    where <built-in method get of dict object at 0xffff82b10b40> = {'documentId': 'ADD-005'}.get\n\n/tests/test_sync.py:320: AssertionError",
                "message": "The test failed in the call phase due to an assertion error"
            },
            {
                "name": "test_sync.py::test_no_null_references",
                "status": "passed",
                "duration": 0.07905145799998081,
                "start": 1764019306.909087,
                "stop": 1764019306.9885533,
                "retries": 0,
                "file_path": "test_sync.py"
            },
            {
                "name": "test_sync.py::test_reference_consistency",
                "status": "passed",
                "duration": 0.07772924900001499,
                "start": 1764019306.9889357,
                "stop": 1764019307.0670009,
                "retries": 0,
                "file_path": "test_sync.py"
            },
            {
                "name": "test_sync.py::test_performance_large_batch",
                "status": "passed",
                "duration": 0.07912220800000114,
                "start": 1764019307.0673215,
                "stop": 1764019307.1467288,
                "retries": 0,
                "file_path": "test_sync.py"
            }
        ]
    }
}