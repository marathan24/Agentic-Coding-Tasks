{
    "results": {
        "tool": {
            "name": "pytest",
            "version": "8.4.1"
        },
        "summary": {
            "tests": 3,
            "passed": 1,
            "failed": 2,
            "skipped": 0,
            "pending": 0,
            "other": 0,
            "start": 1764019272.4425151,
            "stop": 1764019334.7864456
        },
        "tests": [
            {
                "name": "test_streaming.py::test_health_endpoint",
                "status": "passed",
                "duration": 0.011830209000038394,
                "start": 1764019272.527307,
                "stop": 1764019272.5393543,
                "retries": 0,
                "file_path": "test_streaming.py"
            },
            {
                "name": "test_streaming.py::test_stream_completes_with_eof_marker",
                "status": "failed",
                "raw_status": "call_failed",
                "duration": 31.053925680999953,
                "start": 1764019272.5395164,
                "stop": 1764019303.6581128,
                "retries": 0,
                "file_path": "test_streaming.py",
                "trace": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        try:\n>           yield\n\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:110: in __iter__\n    for part in self._httpcore_stream:\n                ^^^^^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:407: in __iter__\n    raise exc from None\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:403: in __iter__\n    for part in self._stream:\n                ^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:342: in __iter__\n    raise exc\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:334: in __iter__\n    for chunk in self._connection._receive_response_body(**kwargs):\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:203: in _receive_response_body\n    event = self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:217: in _receive_event\n    data = self._network_stream.read(\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_backends/sync.py:126: in read\n    with map_exceptions(exc_map):\n         ^^^^^^^^^^^^^^^^^^^^^^^\n/root/.local/share/uv/python/cpython-3.12.8-linux-aarch64-gnu/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ReadTimeout'>, <class 'OSError'>: <class 'httpcore.ReadError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ReadTimeout: timed out\n\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nclient = <httpx.Client object at 0xffff8f9ca630>\n\n    def test_stream_completes_with_eof_marker(client):\n        \"\"\"\n        Test that the stream completes successfully and receives the EOF marker.\n    \n        This is the key test - it verifies that even with a 35-second processing\n        gap, the connection stays alive long enough for the stream to complete\n        and deliver all data including the EOF marker.\n        \"\"\"\n        received_messages = []\n        received_eof = False\n    \n        start_time = time.time()\n    \n        with client.stream(\"GET\", \"/stream/test_query\") as response:\n            assert response.status_code == 200\n    \n>           for line in response.iter_lines():\n                        ^^^^^^^^^^^^^^^^^^^^^\n\n/tests/test_streaming.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:862: in iter_lines\n    for text in self.iter_text():\n                ^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:849: in iter_text\n    for byte_content in self.iter_bytes():\n                        ^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:828: in iter_bytes\n    for raw_bytes in self.iter_raw():\n                     ^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:886: in iter_raw\n    for raw_stream_bytes in self.stream:\n                            ^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_client.py:123: in __iter__\n    for chunk in self._stream:\n                 ^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:109: in __iter__\n    with map_httpcore_exceptions():\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/.local/share/uv/python/cpython-3.12.8-linux-aarch64-gnu/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ReadTimeout: timed out\n\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:83: ReadTimeout",
                "message": "The test failed in the call phase due to an exception"
            },
            {
                "name": "test_streaming.py::test_all_data_delivered_correctly",
                "status": "failed",
                "raw_status": "call_failed",
                "duration": 31.055337097999995,
                "start": 1764019303.658347,
                "stop": 1764019334.7862296,
                "retries": 0,
                "file_path": "test_streaming.py",
                "trace": "@contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        try:\n>           yield\n\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:110: in __iter__\n    for part in self._httpcore_stream:\n                ^^^^^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:407: in __iter__\n    raise exc from None\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py:403: in __iter__\n    for part in self._stream:\n                ^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:342: in __iter__\n    raise exc\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:334: in __iter__\n    for chunk in self._connection._receive_response_body(**kwargs):\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:203: in _receive_response_body\n    event = self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_sync/http11.py:217: in _receive_event\n    data = self._network_stream.read(\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_backends/sync.py:126: in read\n    with map_exceptions(exc_map):\n         ^^^^^^^^^^^^^^^^^^^^^^^\n/root/.local/share/uv/python/cpython-3.12.8-linux-aarch64-gnu/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nmap = {<class 'TimeoutError'>: <class 'httpcore.ReadTimeout'>, <class 'OSError'>: <class 'httpcore.ReadError'>}\n\n    @contextlib.contextmanager\n    def map_exceptions(map: ExceptionMapping) -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:  # noqa: PIE786\n            for from_exc, to_exc in map.items():\n                if isinstance(exc, from_exc):\n>                   raise to_exc(exc) from exc\nE                   httpcore.ReadTimeout: timed out\n\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpcore/_exceptions.py:14: ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nclient = <httpx.Client object at 0xffff8f7abad0>\n\n    def test_all_data_delivered_correctly(client):\n        \"\"\"\n        Test that all data is delivered correctly without loss.\n    \n        This test verifies that the solution doesn't interfere with\n        normal data delivery and that all expected content arrives intact.\n        \"\"\"\n        data_messages = []\n    \n        with client.stream(\"GET\", \"/stream/data_integrity_test\") as response:\n            assert response.status_code == 200\n    \n>           for line in response.iter_lines():\n                        ^^^^^^^^^^^^^^^^^^^^^\n\n/tests/test_streaming.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:862: in iter_lines\n    for text in self.iter_text():\n                ^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:849: in iter_text\n    for byte_content in self.iter_bytes():\n                        ^^^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:828: in iter_bytes\n    for raw_bytes in self.iter_raw():\n                     ^^^^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_models.py:886: in iter_raw\n    for raw_stream_bytes in self.stream:\n                            ^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_client.py:123: in __iter__\n    for chunk in self._stream:\n                 ^^^^^^^^^^^^\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:109: in __iter__\n    with map_httpcore_exceptions():\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/.local/share/uv/python/cpython-3.12.8-linux-aarch64-gnu/lib/python3.12/contextlib.py:158: in __exit__\n    self.gen.throw(value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    @contextlib.contextmanager\n    def map_httpcore_exceptions() -> typing.Iterator[None]:\n        try:\n            yield\n        except Exception as exc:\n            mapped_exc = None\n    \n            for from_exc, to_exc in HTTPCORE_EXC_MAP.items():\n                if not isinstance(exc, from_exc):\n                    continue\n                # We want to map to the most specific exception we can find.\n                # Eg if `exc` is an `httpcore.ReadTimeout`, we want to map to\n                # `httpx.ReadTimeout`, not just `httpx.TimeoutException`.\n                if mapped_exc is None or issubclass(to_exc, mapped_exc):\n                    mapped_exc = to_exc\n    \n            if mapped_exc is None:  # pragma: no cover\n                raise\n    \n            message = str(exc)\n>           raise mapped_exc(message) from exc\nE           httpx.ReadTimeout: timed out\n\n/root/.cache/uv/archive-v0/TuGL_8A7bfLsMuDPma_qN/lib/python3.12/site-packages/httpx/_transports/default.py:83: ReadTimeout",
                "message": "The test failed in the call phase due to an exception"
            }
        ]
    }
}