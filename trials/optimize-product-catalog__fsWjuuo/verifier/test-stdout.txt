=== Installing dependencies ===
=== Starting Product Catalog API ===
Waiting for API to start...
API started successfully
=== Running performance tests ===
============================= test session starts ==============================
platform linux -- Python 3.11.14, pytest-8.4.1, pluggy-1.6.0 -- /root/.cache/uv/archive-v0/az8PLYiWejcmMK3i3Cct2/bin/python
cachedir: .pytest_cache
rootdir: /tests
plugins: json-ctrf-0.3.5, anyio-4.11.0
collecting ... collected 22 items

../tests/test_performance.py::test_health_endpoint PASSED                [  4%]
../tests/test_performance.py::test_stats_endpoint PASSED                 [  9%]
../tests/test_performance.py::test_search_electronics_brandA PASSED      [ 13%]
../tests/test_performance.py::test_search_clothing_brandB PASSED         [ 18%]
../tests/test_performance.py::test_search_home_brandC PASSED             [ 22%]
../tests/test_performance.py::test_search_sports_brandD PASSED           [ 27%]
../tests/test_performance.py::test_search_books_brandE PASSED            [ 31%]
../tests/test_performance.py::test_search_nonexistent_combination PASSED [ 36%]
../tests/test_performance.py::test_search_missing_category PASSED        [ 40%]
../tests/test_performance.py::test_search_missing_brand PASSED           [ 45%]
../tests/test_performance.py::test_get_product_by_id PASSED              [ 50%]
../tests/test_performance.py::test_get_product_not_found PASSED          [ 54%]
../tests/test_performance.py::test_product_data_structure PASSED         [ 59%]
../tests/test_performance.py::test_search_performance_single_query PASSED [ 63%]
../tests/test_performance.py::test_search_performance_multiple_queries PASSED [ 68%]
../tests/test_performance.py::test_product_lookup_performance PASSED     [ 72%]
../tests/test_performance.py::test_stats_performance PASSED              [ 77%]
../tests/test_performance.py::test_concurrent_search_performance PASSED  [ 81%]
../tests/test_performance.py::test_performance_improvement_validation PASSED [ 86%]
../tests/test_performance.py::test_all_products_accessible PASSED        [ 90%]
../tests/test_performance.py::test_product_uniqueness PASSED             [ 95%]
../tests/test_performance.py::test_search_consistency PASSED             [100%]

==================================== PASSES ====================================
_____________________ test_search_performance_single_query _____________________
----------------------------- Captured stdout call -----------------------------

=== Search Performance ===
Query: category=electronics, brand=BrandA
Time: 0.62ms
___________________ test_search_performance_multiple_queries ___________________
----------------------------- Captured stdout call -----------------------------

=== Multiple Query Performance ===
Average time: 0.75ms
Max time: 2.13ms
Min time: 0.30ms
_______________________ test_product_lookup_performance ________________________
----------------------------- Captured stdout call -----------------------------

=== Product Lookup Performance ===
Lookup time: 0.38ms
____________________________ test_stats_performance ____________________________
----------------------------- Captured stdout call -----------------------------

=== Stats Performance ===
Stats query time: 1.00ms
______________________ test_concurrent_search_performance ______________________
----------------------------- Captured stdout call -----------------------------

=== Concurrent Search Performance ===
Total time for 8 concurrent queries: 5.85ms
Average per query: 2.74ms
___________________ test_performance_improvement_validation ____________________
----------------------------- Captured stdout call -----------------------------

=== Performance Improvement Validation ===
Search time: 0.73ms
✅ Performance optimization successfully applied!
=========================== short test summary info ============================
PASSED ../tests/test_performance.py::test_health_endpoint
PASSED ../tests/test_performance.py::test_stats_endpoint
PASSED ../tests/test_performance.py::test_search_electronics_brandA
PASSED ../tests/test_performance.py::test_search_clothing_brandB
PASSED ../tests/test_performance.py::test_search_home_brandC
PASSED ../tests/test_performance.py::test_search_sports_brandD
PASSED ../tests/test_performance.py::test_search_books_brandE
PASSED ../tests/test_performance.py::test_search_nonexistent_combination
PASSED ../tests/test_performance.py::test_search_missing_category
PASSED ../tests/test_performance.py::test_search_missing_brand
PASSED ../tests/test_performance.py::test_get_product_by_id
PASSED ../tests/test_performance.py::test_get_product_not_found
PASSED ../tests/test_performance.py::test_product_data_structure
PASSED ../tests/test_performance.py::test_search_performance_single_query
PASSED ../tests/test_performance.py::test_search_performance_multiple_queries
PASSED ../tests/test_performance.py::test_product_lookup_performance
PASSED ../tests/test_performance.py::test_stats_performance
PASSED ../tests/test_performance.py::test_concurrent_search_performance
PASSED ../tests/test_performance.py::test_performance_improvement_validation
PASSED ../tests/test_performance.py::test_all_products_accessible
PASSED ../tests/test_performance.py::test_product_uniqueness
PASSED ../tests/test_performance.py::test_search_consistency
============================== 22 passed in 0.32s ==============================
=== Cleaning up ===
✅ All tests passed! Reward: 1
Test exit code: 0
Reward file written to /logs/verifier/reward.txt
